global !p
def matrix():
	print(vim.eval("vimtex#delim#get_surrounding('env_tex')[0].name"))
	return "bmatrix" == vim.eval("vimtex#delim#get_surrounding('env_tex')[0].name") 
endglobal

snippet mat "Smart Matrix"
\begin{${1:p/b/v/V/B/small}matrix}
	$0
\end{$1matrix}
endsnippet

context "matrix()" 
snippet "  " "auto seperator" rA
 & 
endsnippet

